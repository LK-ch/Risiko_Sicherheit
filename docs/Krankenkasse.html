<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avans Krankenkassen-Jahr 2024</title>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: url('images/KBild.webp');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        header {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
            padding: 25px 40px;
            position: relative;
        }
        .back-button {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .back-button:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        header h1 {
            font-size: 1.8em;
            margin-bottom: 5px;
            text-align: center;
        }
        .avan-section {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            align-items: flex-start;
        }
        .avan-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #7dd3c0, #88e5d0);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            padding: 5px;
        }
        .avan-avatar svg {
            width: 100%;
            height: 100%;
        }
        .avan-message {
            flex: 1;
            background: #fff3e0;
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid #f39c12;
            position: relative;
        }
        .avan-message:before {
            content: '';
            position: absolute;
            left: -10px;
            top: 20px;
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 10px solid #fff3e0;
        }
        .avan-message h3 {
            color: #e67e22;
            margin-bottom: 10px;
        }
        .avan-message p {
            line-height: 1.6;
            margin: 10px 0;
        }
        .info-box {
            margin: 0 40px 20px 40px;
            padding: 15px 20px;
            background: #e8f5e9;
            border-left: 4px solid #4CAF50;
            border-radius: 8px;
        }
        .franchise-selection {
            padding: 30px 40px;
            text-align: center;
        }
        .franchise-selection h2 {
            color: #667eea;
            margin-bottom: 15px;
        }
        .franchise-options {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .franchise-card {
            background: #f8f9fa;
            border: 3px solid #e0e0e0;
            padding: 25px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 200px;
            text-align: center;
        }
        .franchise-card:hover {
            border-color: #f39c12;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(243, 156, 18, 0.3);
        }
        .franchise-card.selected {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            border-color: #f39c12;
        }
        .franchise-card h3 {
            font-size: 2em;
            margin-bottom: 10px;
        }
        .franchise-card p {
            font-size: 0.9em;
            opacity: 0.9;
        }
        .game-area {
            padding: 30px 40px;
        }
        .month-display {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }
        .month-display h2 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .event-box {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid #f39c12;
        }
        .event-box.medical {
            border-left-color: #e67e22;
            background: #fff3e0;
        }
        .invoice {
            background: white;
            border: 2px solid #333;
            padding: 25px;
            margin: 15px 0;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .invoice-header {
            border-bottom: 2px solid #333;
            padding-bottom: 15px;
            margin-bottom: 15px;
        }
        .invoice-header h3 {
            color: #f39c12;
            font-size: 1.5em;
        }
        .invoice-table {
            width: 100%;
            margin: 15px 0;
        }
        .invoice-table td {
            padding: 8px;
            border-bottom: 1px solid #ddd;
        }
        .invoice-table td:last-child {
            text-align: right;
            font-weight: bold;
        }
        .invoice-total {
            background: #f8f9fa;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
            font-size: 1.2em;
            font-weight: bold;
            text-align: right;
        }
        .calculation-section {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        .calculation-section h4 {
            color: #1976d2;
            margin-bottom: 12px;
        }
        .input-group {
            margin: 12px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .input-group label {
            flex: 1;
            font-weight: 600;
        }
        .input-group input {
            width: 150px;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
            text-align: right;
        }
        .input-group input.correct {
            border-color: #4CAF50;
            background: #e8f5e9;
        }
        .input-group input.incorrect {
            border-color: #f44336;
            background: #ffebee;
            animation: shake 0.5s;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        .feedback.success {
            background: #e8f5e9;
            color: #2e7d32;
        }
        .feedback.error {
            background: #ffebee;
            color: #c62828;
        }
        button {
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px 5px;
        }
        .btn-primary {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(243, 156, 18, 0.4);
        }
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .btn-secondary {
            background: #95a5a6;
            color: white;
        }
        .btn-secondary:hover {
            background: #7f8c8d;
        }
        .btn-overview {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
        }
        .btn-overview:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(243, 156, 18, 0.4);
        }
        .yearly-overview {
            background: white;
            border: 3px solid #f39c12;
            padding: 25px;
            border-radius: 15px;
            margin: 15px 0;
        }
        .yearly-overview h3 {
            color: #f39c12;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        .overview-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .overview-table th,
        .overview-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .overview-table th {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
            font-weight: bold;
        }
        .overview-table tr:hover {
            background: #f8f9fa;
        }
        .summary-box {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        .summary-box h4 {
            margin-bottom: 12px;
            font-size: 1.3em;
        }
        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.3);
        }
        .summary-item:last-child {
            border-bottom: none;
            font-size: 1.3em;
            font-weight: bold;
            margin-top: 10px;
        }
        .hidden {
            display: none;
        }
        @media (max-width: 768px) {
            body { padding: 10px; }
            .franchise-options { flex-direction: column; }
            .input-group { flex-direction: column; align-items: flex-start; }
            .input-group input { width: 100%; }
            header h1 { font-size: 1.5em; }
            .month-display h2 { font-size: 2em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" class="back-button">‚Üê Zur√ºck zur √úbersicht</a>
            <h1>üè• Avans Krankenkassen-Jahr 2024</h1>
        </header>

        <!-- Character Introduction -->
        <div id="intro-section" class="avan-section" style="padding: 30px 40px;">
            <div class="avan-avatar">
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <!-- Kurze blonde Haare - nur oben -->
                    <ellipse cx="50" cy="30" rx="38" ry="25" fill="#d4a574"/>
                    
                    <!-- Gesicht - hellere Haut -->
                    <circle cx="50" cy="50" r="35" fill="#f4c9a5"/>
                    
                    <!-- Haare vorne (kurz) -->
                    <ellipse cx="50" cy="18" rx="36" ry="12" fill="#d4a574"/>
                    
                    <!-- Augenbrauen - blond -->
                    <path d="M 30 40 Q 35 38 40 40" stroke="#a68c52" stroke-width="2" fill="none" stroke-linecap="round"/>
                    <path d="M 60 40 Q 65 38 70 40" stroke="#a68c52" stroke-width="2" fill="none" stroke-linecap="round"/>
                    
                    <!-- Augen -->
                    <ellipse cx="35" cy="48" rx="4" ry="6" fill="#6b5d4f"/>
                    <ellipse cx="65" cy="48" rx="4" ry="6" fill="#6b5d4f"/>
                    <circle cx="36" cy="46" r="1.5" fill="white"/>
                    <circle cx="66" cy="46" r="1.5" fill="white"/>
                    
                    <!-- Freundliches L√§cheln -->
                    <path d="M 32 62 Q 50 69 68 62" stroke="#8b6f5c" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                    
                    <!-- Wangen (leichte R√∂te) -->
                    <circle cx="25" cy="58" r="5" fill="#e8a895" opacity="0.4"/>
                    <circle cx="75" cy="58" r="5" fill="#e8a895" opacity="0.4"/>
                </svg>
            </div>
            <div class="avan-message">
                <h3>Hallo! Ich bin Avan üëã</h3>
                <p>Ich bin 20 Jahre alt und arbeite als B√§cker in Bern. Meine Arbeit ist anstrengend ‚Äì ich stehe oft schon ab 1 Uhr morgens in der Backstube und bin den ganzen Tag auf den Beinen. Am Feierabend bin ich meistens ziemlich m√ºde, deshalb mache ich auch nicht so viel Sport.</p>
                <p>Gesundheitlich geht's mir eigentlich gut. Ich gehe normalerweise nur 1-2 Mal im Jahr zum Arzt, wenn ich mal krank bin. Meine Krankenkasse kostet mich momentan CHF 390.- pro Monat, und ich muss mich jetzt f√ºr eine Franchise entscheiden.</p>
                <p><strong>Aber ehrlich gesagt...</strong> ich verstehe das alles noch nicht so gut mit Franchise, Selbstbehalt und so weiter. üòÖ Kannst du mir helfen, das durchzuspielen?</p>
            </div>
        </div>

        <!-- Franchise Selection -->
        <div id="franchise-section" class="franchise-selection">
            <h2>üéØ W√§hle die Franchise f√ºr Avan</h2>
            <p>Die Franchise ist der Betrag, den Avan selbst zahlen muss, bevor die Krankenkasse √ºbernimmt.</p>
            <p style="margin-top: 10px;"><strong>üí° Wichtig:</strong> Je h√∂her die Franchise, desto niedriger die monatliche Pr√§mie!</p>
            
            <div class="franchise-options">
                <div class="franchise-card" onclick="selectFranchise(300, 390)">
                    <h3>CHF 300.-</h3>
                    <p style="margin-top: 10px; font-size: 0.85em; color: #666;">Pr√§mie: CHF 390.-/Monat</p>
                </div>
                <div class="franchise-card" onclick="selectFranchise(1000, 340)">
                    <h3>CHF 1000.-</h3>
                    <p style="margin-top: 10px; font-size: 0.85em; color: #666;">Pr√§mie: CHF 340.-/Monat</p>
                </div>
                <div class="franchise-card" onclick="selectFranchise(2500, 290)">
                    <h3>CHF 2500.-</h3>
                    <p style="margin-top: 10px; font-size: 0.85em; color: #666;">Pr√§mie: CHF 290.-/Monat</p>
                </div>
            </div>
            
            <button class="btn-primary" onclick="startGame()" id="start-btn" disabled>Spiel starten</button>
        </div>

        <!-- Game Area -->
        <div id="game-section" class="game-area hidden">
            <div class="month-display">
                <h2 id="current-month">Januar 2024</h2>
                <p id="month-subtitle">Beginne das Jahr mit Avan</p>
            </div>

            <div id="event-container">
                <!-- Events werden hier dynamisch eingef√ºgt -->
            </div>

            <div style="text-align: center; margin-top: 20px;">
                <button class="btn-primary" id="next-month-btn" onclick="nextMonth()">N√§chster Monat ‚Üí</button>
            </div>
        </div>
    </div>

    <script>
        // Generate Avan Avatar with different emotions
        function getAvanAvatar(emotion) {
            const baseHair = `
                <ellipse cx="50" cy="30" rx="38" ry="25" fill="#d4a574"/>
                <ellipse cx="50" cy="18" rx="36" ry="12" fill="#d4a574"/>
            `;
            
            let eyes, mouth, extras, eyebrows;
            
            switch(emotion) {
                case 'happy':
                    eyebrows = `
                        <path d="M 30 40 Q 35 38 40 40" stroke="#a68c52" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 60 40 Q 65 38 70 40" stroke="#a68c52" stroke-width="2" fill="none" stroke-linecap="round"/>
                    `;
                    eyes = `
                        <ellipse cx="35" cy="48" rx="4" ry="6" fill="#6b5d4f"/>
                        <ellipse cx="65" cy="48" rx="4" ry="6" fill="#6b5d4f"/>
                        <circle cx="36" cy="46" r="1.5" fill="white"/>
                        <circle cx="66" cy="46" r="1.5" fill="white"/>
                    `;
                    mouth = `<path d="M 32 62 Q 50 69 68 62" stroke="#8b6f5c" stroke-width="2.5" fill="none" stroke-linecap="round"/>`;
                    extras = `
                        <circle cx="25" cy="58" r="5" fill="#e8a895" opacity="0.4"/>
                        <circle cx="75" cy="58" r="5" fill="#e8a895" opacity="0.4"/>
                    `;
                    break;
                case 'sick':
                    eyebrows = `
                        <path d="M 30 42 Q 35 40 40 42" stroke="#a68c52" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 60 42 Q 65 40 70 42" stroke="#a68c52" stroke-width="2" fill="none" stroke-linecap="round"/>
                    `;
                    eyes = `
                        <ellipse cx="35" cy="50" rx="3" ry="5" fill="#6b5d4f"/>
                        <ellipse cx="65" cy="50" rx="3" ry="5" fill="#6b5d4f"/>
                        <circle cx="35" cy="48" r="1" fill="white"/>
                        <circle cx="65" cy="48" r="1" fill="white"/>
                    `;
                    mouth = `<path d="M 35 65 Q 50 62 65 65" stroke="#8b6f5c" stroke-width="2" fill="none" stroke-linecap="round"/>`;
                    extras = `
                        <circle cx="75" cy="40" r="3" fill="#7ec8e3"/>
                        <ellipse cx="50" cy="68" rx="3" ry="2" fill="#ff9999" opacity="0.6"/>
                    `;
                    break;
                case 'worried':
                    eyebrows = `
                        <path d="M 28 40 L 40 38" stroke="#a68c52" stroke-width="2" stroke-linecap="round"/>
                        <path d="M 60 38 L 72 40" stroke="#a68c52" stroke-width="2" stroke-linecap="round"/>
                    `;
                    eyes = `
                        <ellipse cx="35" cy="47" rx="4" ry="6" fill="#6b5d4f"/>
                        <ellipse cx="65" cy="47" rx="4" ry="6" fill="#6b5d4f"/>
                        <circle cx="36" cy="45" r="1.5" fill="white"/>
                        <circle cx="66" cy="45" r="1.5" fill="white"/>
                    `;
                    mouth = `<path d="M 35 64 Q 50 61 65 64" stroke="#8b6f5c" stroke-width="2" fill="none" stroke-linecap="round"/>`;
                    extras = `
                        <circle cx="75" cy="40" r="3" fill="#7ec8e3"/>
                        <circle cx="76" cy="45" r="2" fill="#7ec8e3" opacity="0.7"/>
                    `;
                    break;
                case 'pain':
                    eyebrows = `
                        <path d="M 28 38 L 40 40" stroke="#a68c52" stroke-width="2.5" stroke-linecap="round"/>
                        <path d="M 60 40 L 72 38" stroke="#a68c52" stroke-width="2.5" stroke-linecap="round"/>
                    `;
                    eyes = `
                        <path d="M 30 48 L 40 48" stroke="#6b5d4f" stroke-width="3" stroke-linecap="round"/>
                        <path d="M 60 48 L 70 48" stroke="#6b5d4f" stroke-width="3" stroke-linecap="round"/>
                    `;
                    mouth = `<ellipse cx="50" cy="66" rx="8" ry="6" fill="none" stroke="#8b6f5c" stroke-width="2.5"/>`;
                    extras = ``;
                    break;
                default: // neutral
                    eyebrows = `
                        <path d="M 30 40 Q 35 38 40 40" stroke="#a68c52" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 60 40 Q 65 38 70 40" stroke="#a68c52" stroke-width="2" fill="none" stroke-linecap="round"/>
                    `;
                    eyes = `
                        <ellipse cx="35" cy="48" rx="4" ry="6" fill="#6b5d4f"/>
                        <ellipse cx="65" cy="48" rx="4" ry="6" fill="#6b5d4f"/>
                        <circle cx="36" cy="46" r="1.5" fill="white"/>
                        <circle cx="66" cy="46" r="1.5" fill="white"/>
                    `;
                    mouth = `<path d="M 35 63 Q 50 64 65 63" stroke="#8b6f5c" stroke-width="2" fill="none" stroke-linecap="round"/>`;
                    extras = '';
            }
            
            return `
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" style="width: 100%; height: 100%;">
                    <!-- Kurze blonde Haare - nur oben -->
                    <ellipse cx="50" cy="30" rx="38" ry="25" fill="#d4a574"/>
                    <circle cx="50" cy="50" r="35" fill="#f4c9a5"/>
                    <ellipse cx="50" cy="18" rx="36" ry="12" fill="#d4a574"/>
                    ${eyebrows}
                    ${eyes}
                    ${mouth}
                    ${extras}
                </svg>
            `;
        }

        // Game State
        let gameState = {
            selectedFranchise: 0,
            monthlyPremium: 0,
            currentMonth: 0,
            franchiseUsed: 0,
            selfPaymentUsed: 0,
            totalPremiumsPaid: 0,
            totalMedicalCosts: 0,
            totalPatientPaid: 0,
            totalInsurancePaid: 0,
            monthlyData: [],
            firstMedicalEvent: true,
            processedMonths: new Set(), // Track which months have been processed
            correctAnswers: {} // Store correct answers for each month
        };

        // Month Events Data
        const monthEvents = [
            { // Januar
                name: "Januar",
                seasonColor: "#4A90E2",
                seasonGradient: "linear-gradient(135deg, #667eea 0%, #4A90E2 100%)",
                emoji: "‚ùÑÔ∏è",
                events: [
                    { type: "premium", description: "Monatliche Pr√§mie bezahlen" }
                ],
                emotion: "happy"
            },
            { // Februar
                name: "Februar",
                seasonColor: "#B8E0F6",
                seasonGradient: "linear-gradient(135deg, #E3F2FD 0%, #B8E0F6 100%)",
                emoji: "‚õÑ",
                events: [
                    { type: "premium", description: "Monatliche Pr√§mie bezahlen" },
                    { 
                        type: "medical", 
                        description: "Avan hat eine Grippe und geht zum Hausarzt f√ºr Medikamente und ein Arztzeugnis.",
                        diagnosis: "Grippale Infektion",
                        treatments: [
                            { name: "Konsultation Hausarzt", cost: 95 },
                            { name: "Medikamente (verschrieben)", cost: 32 }
                        ],
                        totalCost: 127
                    }
                ],
                emotion: "sick"
            },
            { // M√§rz
                name: "M√§rz",
                seasonColor: "#A8E6CF",
                seasonGradient: "linear-gradient(135deg, #C8E6C9 0%, #A8E6CF 100%)",
                emoji: "üå±",
                events: [
                    { type: "premium", description: "Monatliche Pr√§mie bezahlen" }
                ],
                emotion: "happy"
            },
            { // April
                name: "April",
                seasonColor: "#FFE5B4",
                seasonGradient: "linear-gradient(135deg, #FFF9C4 0%, #FFE5B4 100%)",
                emoji: "üå∑",
                events: [
                    { type: "premium", description: "Monatliche Pr√§mie bezahlen" },
                    { 
                        type: "medical", 
                        description: "Avan hat starke Bauchschmerzen und √úbelkeit. Er geht in den Notfall wegen Magenentz√ºndung (Gastritis) und muss eine Nacht im Spital bleiben.",
                        diagnosis: "Akute Gastritis (Magenentz√ºndung)",
                        treatments: [
                            { name: "Notfallkonsultation", cost: 185 },
                            { name: "Blutuntersuchung", cost: 145 },
                            { name: "Ultraschall Abdomen", cost: 180 },
                            { name: "Spital√ºbernachtung (1 Nacht)", cost: 1200 },
                            { name: "Medikamente (Magenschutz)", cost: 45 }
                        ],
                        totalCost: 1755
                    }
                ],
                emotion: "worried"
            },
            { // Mai
                name: "Mai",
                seasonColor: "#FFB6C1",
                seasonGradient: "linear-gradient(135deg, #F8BBD0 0%, #FFB6C1 100%)",
                emoji: "üå∏",
                events: [
                    { type: "premium", description: "Monatliche Pr√§mie bezahlen" },
                    { 
                        type: "medical", 
                        description: "Avan geht zur Nachkontrolle wegen der Magenentz√ºndung vom April. Der Arzt will sicherstellen, dass alles verheilt ist.",
                        diagnosis: "Nachkontrolle Gastritis",
                        treatments: [
                            { name: "Konsultation Hausarzt", cost: 95 },
                            { name: "Kontrolluntersuchung", cost: 75 }
                        ],
                        totalCost: 170
                    }
                ],
                emotion: "happy"
            },
            { // Juni
                name: "Juni",
                seasonColor: "#FFD700",
                seasonGradient: "linear-gradient(135deg, #FFF59D 0%, #FFD700 100%)",
                emoji: "‚òÄÔ∏è",
                events: [
                    { type: "premium", description: "Monatliche Pr√§mie bezahlen" }
                ],
                emotion: "happy"
            },
            { // Juli
                name: "Juli",
                seasonColor: "#FF6347",
                seasonGradient: "linear-gradient(135deg, #FFAB91 0%, #FF6347 100%)",
                emoji: "üåû",
                events: [
                    { type: "premium", description: "Monatliche Pr√§mie bezahlen" },
                    { 
                        type: "medical", 
                        description: "Avan hat eine Mittelohrentz√ºndung mit starken Ohrenschmerzen und Fieber. Er geht zum Hausarzt.",
                        diagnosis: "Akute Mittelohrentz√ºndung (Otitis media)",
                        treatments: [
                            { name: "Konsultation Hausarzt", cost: 95 },
                            { name: "Ohrmikroskopie", cost: 85 },
                            { name: "Antibiotika und Schmerzmittel", cost: 55 }
                        ],
                        totalCost: 235
                    }
                ],
                emotion: "pain"
            },
            { // August
                name: "August",
                seasonColor: "#FFA500",
                seasonGradient: "linear-gradient(135deg, #FFE082 0%, #FFA500 100%)",
                emoji: "üèñÔ∏è",
                events: [
                    { type: "premium", description: "Monatliche Pr√§mie bezahlen" },
                    { 
                        type: "medical", 
                        description: "Avan hat eine hartn√§ckige Bronchitis mit starkem Husten und Atembeschwerden. Er geht zum Hausarzt.",
                        diagnosis: "Akute Bronchitis",
                        treatments: [
                            { name: "Konsultation Hausarzt", cost: 95 },
                            { name: "Lungenfunktionstest", cost: 120 },
                            { name: "Inhalationsger√§t (Leihgeb√ºhr)", cost: 45 },
                            { name: "Medikamente (Hustenl√∂ser, Antibiotika)", cost: 68 }
                        ],
                        totalCost: 328
                    }
                ],
                emotion: "sick"
            },
            { // September
                name: "September",
                seasonColor: "#D2691E",
                seasonGradient: "linear-gradient(135deg, #FFCC80 0%, #D2691E 100%)",
                emoji: "üçÇ",
                events: [
                    { type: "premium", description: "Monatliche Pr√§mie bezahlen" }
                ],
                emotion: "happy"
            },
            { // Oktober
                name: "Oktober",
                seasonColor: "#8B4513",
                seasonGradient: "linear-gradient(135deg, #BCAAA4 0%, #8B4513 100%)",
                emoji: "üçÅ",
                events: [
                    { type: "premium", description: "Monatliche Pr√§mie bezahlen" }
                ],
                emotion: "happy"
            },
            { // November
                name: "November",
                seasonColor: "#696969",
                seasonGradient: "linear-gradient(135deg, #B0BEC5 0%, #696969 100%)",
                emoji: "üåßÔ∏è",
                events: [
                    { type: "premium", description: "Monatliche Pr√§mie bezahlen" }
                ],
                emotion: "happy"
            },
            { // Dezember
                name: "Dezember",
                seasonColor: "#C41E3A",
                seasonGradient: "linear-gradient(135deg, #EF9A9A 0%, #C41E3A 100%)",
                emoji: "üéÑ",
                events: [
                    { type: "premium", description: "Monatliche Pr√§mie bezahlen" },
                    { 
                        type: "medical", 
                        description: "Avan hat starke Halsschmerzen und Schluckbeschwerden. Er geht zum Hausarzt.",
                        diagnosis: "Akute Pharyngitis (Halsentz√ºndung)",
                        treatments: [
                            { name: "Konsultation Hausarzt", cost: 95 },
                            { name: "Rachenabstrich (Streptokokken-Test)", cost: 55 },
                            { name: "Antibiotika", cost: 38 }
                        ],
                        totalCost: 188
                    }
                ],
                emotion: "sick"
            }
        ];

        function selectFranchise(amount, premium) {
            gameState.selectedFranchise = amount;
            gameState.monthlyPremium = premium;
            
            // Visual feedback
            document.querySelectorAll('.franchise-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.target.closest('.franchise-card').classList.add('selected');
            
            document.getElementById('start-btn').disabled = false;
        }

        function startGame() {
            document.getElementById('intro-section').classList.add('hidden');
            document.getElementById('franchise-section').classList.add('hidden');
            document.getElementById('game-section').classList.remove('hidden');
            displayMonth();
        }

        function displayMonth() {
            const month = monthEvents[gameState.currentMonth];
            const container = document.getElementById('event-container');
            container.innerHTML = '';
            
            // Use emotion from month data
            const emotion = month.emotion;
            
            // Determine text based on emotion
            let statusText = '';
            switch(emotion) {
                case 'happy':
                    statusText = 'Avan geht es gut';
                    break;
                case 'sick':
                    statusText = 'Avan ist krank...';
                    break;
                case 'worried':
                    statusText = 'Avan hat starke Beschwerden...';
                    break;
                case 'pain':
                    statusText = 'Avan hat Schmerzen...';
                    break;
                default:
                    statusText = 'Avan geht es gut';
            }
            
            // Determine text color based on background brightness
            // Helle Hintergr√ºnde (Februar, M√§rz, April, Mai, Juni) bekommen dunkle Schrift
            const lightMonths = ['Februar', 'M√§rz', 'April', 'Mai', 'Juni'];
            const textColor = lightMonths.includes(month.name) ? '#333' : 'white';
            
            // Update month display with seasonal colors
            const monthDisplay = document.querySelector('.month-display');
            if (month.seasonGradient) {
                monthDisplay.style.background = month.seasonGradient;
                monthDisplay.style.color = textColor;
            }
            
            // Add Avan avatar to month display with emoji
            const monthSubtitle = document.getElementById('month-subtitle');
            monthSubtitle.innerHTML = `
                <div style="display: flex; align-items: center; justify-content: center; gap: 15px; margin-top: 10px;">
                    <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #7dd3c0, #88e5d0); display: flex; align-items: center; justify-content: center; padding: 5px;">
                        ${getAvanAvatar(emotion)}
                    </div>
                    <span>${statusText}</span>
                    <span style="font-size: 2em;">${month.emoji || ''}</span>
                </div>
            `;
            
            // Update month display
            document.getElementById('current-month').textContent = month.name + ' 2024';
            
            // Display events
            month.events.forEach(event => {
                if (event.type === 'premium') {
                    displayPremiumEvent(container);
                } else if (event.type === 'medical') {
                    displayMedicalEvent(container, event);
                }
            });
            
            // Update overview
            updateOverview();
        }

        function displayPremiumEvent(container) {
            const html = `
                <div class="event-box">
                    <h3>üí≥ Monatliche Krankenkassen-Pr√§mie</h3>
                    <p>Avan bezahlt seine monatliche Pr√§mie von <strong>CHF ${gameState.monthlyPremium}.-</strong></p>
                </div>
            `;
            container.innerHTML += html;
            
            // Add to totals
            gameState.totalPremiumsPaid += gameState.monthlyPremium;
            
            // Create monthly data entry for this month (will be updated if medical event occurs)
            const currentMonth = monthEvents[gameState.currentMonth].name;
            const existingEntry = gameState.monthlyData.find(d => d.month === currentMonth);
            
            if (!existingEntry) {
                addMonthlyData(currentMonth, "Keine Arztbesuche", 0, 0, gameState.monthlyPremium);
            }
        }

        function displayMedicalEvent(container, event) {
            const invoiceId = `invoice-${gameState.currentMonth}`;
            const calcId = `calc-${gameState.currentMonth}`;
            
            // Determine emotion based on diagnosis/cost
            let avatarEmotion = 'sick';
            if (event.totalCost > 400) {
                avatarEmotion = 'worried';
            }
            if (event.diagnosis.includes('Ohr')) {
                avatarEmotion = 'pain';
            }
            
            let treatmentRows = '';
            event.treatments.forEach(treatment => {
                treatmentRows += `
                    <tr>
                        <td>${treatment.name}</td>
                        <td>CHF ${treatment.cost.toFixed(2)}</td>
                    </tr>
                `;
            });
            
            // Nur beim ersten medizinischen Event die Erinnerung anzeigen
            const reminderBox = gameState.firstMedicalEvent ? `
                <div style="margin: 15px 0; padding: 12px; background: #fff3cd; border-radius: 5px;">
                    <strong>üí° Erinnerung:</strong><br>
                    1. Zuerst wird die Franchise gedeckt (bis CHF ${gameState.selectedFranchise}.-)<br>
                    2. Danach zahlt der Patient 10% Selbstbehalt (max. CHF 700.- pro Jahr)<br>
                    3. Den Rest √ºbernimmt die Krankenkasse
                </div>
            ` : '';
            
            const html = `
                <div class="event-box medical">
                    <h3>üè• Arztbesuch</h3>
                    <p>${event.description}</p>
                    <div style="margin: 12px 0; text-align: center;">
                        <div style="display: inline-block; width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #7dd3c0, #88e5d0); padding: 5px;">
                            ${getAvanAvatar(avatarEmotion)}
                        </div>
                    </div>
                    
                    <div class="invoice">
                        <div class="invoice-header">
                            <h3>üìÑ Arztrechnung</h3>
                            <p><strong>Patient:</strong> Avan, 20 Jahre</p>
                            <p><strong>Diagnose:</strong> ${event.diagnosis}</p>
                            <p><strong>Datum:</strong> ${monthEvents[gameState.currentMonth].name} 2024</p>
                        </div>
                        
                        <table class="invoice-table">
                            <tbody>
                                ${treatmentRows}
                            </tbody>
                        </table>
                        
                        <div class="invoice-total">
                            Gesamtbetrag: CHF ${event.totalCost.toFixed(2)}
                        </div>
                    </div>
                    
                    <div class="calculation-section" id="${calcId}">
                        <h4>üßÆ Wer bezahlt wie viel?</h4>
                        <p><strong>Gew√§hlte Franchise:</strong> CHF ${gameState.selectedFranchise}.-</p>
                        <p><strong>Bereits genutzte Franchise dieses Jahr:</strong> CHF ${gameState.franchiseUsed.toFixed(2)}</p>
                        <p><strong>Bereits bezahlter Selbstbehalt dieses Jahr:</strong> CHF ${gameState.selfPaymentUsed.toFixed(2)}</p>
                        
                        ${reminderBox}
                        
                        <div class="input-group">
                            <label>Von Franchise bezahlt:</label>
                            <input type="number" id="franchise-input-${gameState.currentMonth}" 
                                   placeholder="0.00" step="0.01" min="0">
                            <span>CHF</span>
                        </div>
                        
                        <div class="input-group">
                            <label>Selbstbehalt (10%):</label>
                            <input type="number" id="selfpay-input-${gameState.currentMonth}" 
                                   placeholder="0.00" step="0.01" min="0">
                            <span>CHF</span>
                        </div>
                        
                        <div class="input-group">
                            <label>Krankenkasse bezahlt:</label>
                            <input type="number" id="insurance-input-${gameState.currentMonth}" 
                                   placeholder="0.00" step="0.01" min="0">
                            <span>CHF</span>
                        </div>
                        
                        <div id="feedback-${gameState.currentMonth}" class="feedback hidden"></div>
                        
                        <button class="btn-primary" onclick="checkCalculation(${gameState.currentMonth}, ${event.totalCost})">
                            Berechnung √ºberpr√ºfen
                        </button>
                    </div>
                </div>
            `;
            container.innerHTML += html;
            
            // Mark that first medical event has been shown
            gameState.firstMedicalEvent = false;
            
            // Disable next month button until calculation is correct
            document.getElementById('next-month-btn').disabled = true;
        }

        function checkCalculation(monthIndex, totalCost) {
            const franchiseInput = parseFloat(document.getElementById(`franchise-input-${monthIndex}`).value) || 0;
            const selfpayInput = parseFloat(document.getElementById(`selfpay-input-${monthIndex}`).value) || 0;
            const insuranceInput = parseFloat(document.getElementById(`insurance-input-${monthIndex}`).value) || 0;
            
            // If this month was already processed, use the stored correct answers
            let franchisePartRounded, selfpayPartRounded, insurancePartRounded;
            
            if (gameState.processedMonths.has(monthIndex)) {
                // Use stored correct answers
                const stored = gameState.correctAnswers[monthIndex];
                franchisePartRounded = stored.franchise;
                selfpayPartRounded = stored.selfpay;
                insurancePartRounded = stored.insurance;
            } else {
                // Calculate correct values based on CURRENT state (not including this month yet)
                const remainingFranchise = gameState.selectedFranchise - gameState.franchiseUsed;
                const franchisePart = Math.min(totalCost, remainingFranchise);
                const afterFranchise = totalCost - franchisePart;
                
                const remainingSelfpay = 700 - gameState.selfPaymentUsed;
                const selfpayPart = Math.min(afterFranchise * 0.1, remainingSelfpay);
                const insurancePart = afterFranchise - selfpayPart;
                
                // Round all values to 2 decimals for comparison
                franchisePartRounded = Math.round(franchisePart * 100) / 100;
                selfpayPartRounded = Math.round(selfpayPart * 100) / 100;
                insurancePartRounded = Math.round(insurancePart * 100) / 100;
            }
            
            const franchiseInputRounded = Math.round(franchiseInput * 100) / 100;
            const selfpayInputRounded = Math.round(selfpayInput * 100) / 100;
            const insuranceInputRounded = Math.round(insuranceInput * 100) / 100;
            
            // Use tolerance for floating point comparison
            const tolerance = 0.01;
            const franchiseCorrect = Math.abs(franchiseInputRounded - franchisePartRounded) <= tolerance;
            const selfpayCorrect = Math.abs(selfpayInputRounded - selfpayPartRounded) <= tolerance;
            const insuranceCorrect = Math.abs(insuranceInputRounded - insurancePartRounded) <= tolerance;
            
            const feedbackDiv = document.getElementById(`feedback-${monthIndex}`);
            feedbackDiv.classList.remove('hidden');
            
            // Visual feedback
            const franchiseField = document.getElementById(`franchise-input-${monthIndex}`);
            const selfpayField = document.getElementById(`selfpay-input-${monthIndex}`);
            const insuranceField = document.getElementById(`insurance-input-${monthIndex}`);
            
            // Always remove old classes first
            franchiseField.classList.remove('correct', 'incorrect');
            selfpayField.classList.remove('correct', 'incorrect');
            insuranceField.classList.remove('correct', 'incorrect');
            
            if (franchiseCorrect && selfpayCorrect && insuranceCorrect) {
                franchiseField.classList.add('correct');
                selfpayField.classList.add('correct');
                insuranceField.classList.add('correct');
                
                feedbackDiv.classList.remove('error');
                feedbackDiv.classList.add('success');
                feedbackDiv.textContent = '‚úÖ Perfekt! Alle Berechnungen sind korrekt. Du kannst zum n√§chsten Monat weitergehen.';
                
                // Check if this month was already processed (to prevent double-counting)
                if (!gameState.processedMonths.has(monthIndex)) {
                    // Store the correct answers for this month
                    gameState.correctAnswers[monthIndex] = {
                        franchise: franchisePartRounded,
                        selfpay: selfpayPartRounded,
                        insurance: insurancePartRounded
                    };
                    
                    // Only update game state if this is the first correct answer for this month
                    gameState.franchiseUsed += franchisePartRounded;
                    gameState.selfPaymentUsed += selfpayPartRounded;
                    gameState.totalMedicalCosts += totalCost;
                    gameState.totalPatientPaid += franchisePartRounded + selfpayPartRounded;
                    gameState.totalInsurancePaid += insurancePartRounded;
                    
                    // Mark this month as processed
                    gameState.processedMonths.add(monthIndex);
                    
                    // Add to monthly data
                    addMonthlyData(
                        monthEvents[gameState.currentMonth].name, 
                        monthEvents[gameState.currentMonth].events.find(e => e.type === 'medical').diagnosis,
                        totalCost,
                        franchisePartRounded + selfpayPartRounded,
                        gameState.monthlyPremium
                    );
                    
                    // Update overview
                    updateOverview();
                }
                
                // Always enable next month button when correct (even on repeated clicks)
                document.getElementById('next-month-btn').disabled = false;
            } else {
                if (!franchiseCorrect) franchiseField.classList.add('incorrect');
                if (!selfpayCorrect) selfpayField.classList.add('incorrect');
                if (!insuranceCorrect) insuranceField.classList.add('incorrect');
                
                feedbackDiv.classList.remove('success');
                feedbackDiv.classList.add('error');
                feedbackDiv.textContent = '‚ùå Nicht ganz richtig. √úberpr√ºfe deine Berechnungen und versuche es nochmal!';
            }
        }

        function addMonthlyData(month, event, medicalCost, patientPaid, premium) {
            // Check if entry for this month already exists
            const existingIndex = gameState.monthlyData.findIndex(d => d.month === month);
            
            if (existingIndex >= 0) {
                // Update existing entry (replace "Keine Arztbesuche" with actual medical event)
                gameState.monthlyData[existingIndex] = {
                    month: month,
                    event: event,
                    medicalCost: medicalCost,
                    patientPaid: patientPaid,
                    premium: premium
                };
            } else {
                // Add new entry
                gameState.monthlyData.push({
                    month: month,
                    event: event,
                    medicalCost: medicalCost,
                    patientPaid: patientPaid,
                    premium: premium
                });
            }
        }

        function nextMonth() {
            // Don't add monthly data for months without medical events anymore
            // Only the premium payment will be tracked, medical events add their own rows
            
            gameState.currentMonth++;
            
            if (gameState.currentMonth < monthEvents.length) {
                displayMonth();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                showFinalSummary();
            }
        }

        function showFinalSummary() {
            const container = document.getElementById('event-container');
            const totalAvanPaid = gameState.totalPremiumsPaid + gameState.totalPatientPaid;
            
            // Berechne Kosten f√ºr andere Franchisen
            const comparisons = [];
            const franchiseOptions = [
                { franchise: 300, premium: 390 },
                { franchise: 1000, premium: 340 },
                { franchise: 2500, premium: 290 }
            ];
            
            franchiseOptions.forEach(option => {
                let franchiseUsed = Math.min(gameState.totalMedicalCosts, option.franchise);
                let afterFranchise = gameState.totalMedicalCosts - franchiseUsed;
                let selfpay = Math.min(afterFranchise * 0.1, 700);
                let totalYearPremiums = option.premium * 12;
                let totalPatientCost = franchiseUsed + selfpay;
                let totalCost = totalYearPremiums + totalPatientCost;
                
                comparisons.push({
                    franchise: option.franchise,
                    premium: option.premium,
                    totalYearPremiums: totalYearPremiums,
                    medicalCosts: totalPatientCost,
                    totalCost: totalCost,
                    isSelected: option.franchise === gameState.selectedFranchise
                });
            });
            
            // Sortiere nach Gesamtkosten
            comparisons.sort((a, b) => a.totalCost - b.totalCost);
            
            let comparisonRows = '';
            comparisons.forEach(comp => {
                const rowStyle = comp.isSelected ? 'background: #fff3cd; font-weight: bold;' : '';
                const marker = comp.isSelected ? 'üëâ ' : '';
                comparisonRows += `
                    <tr style="${rowStyle}">
                        <td>${marker}CHF ${comp.franchise}.-</td>
                        <td>CHF ${comp.premium}.-</td>
                        <td>CHF ${comp.totalYearPremiums}.-</td>
                        <td>CHF ${comp.medicalCosts.toFixed(2)}</td>
                        <td><strong>CHF ${comp.totalCost.toFixed(2)}</strong></td>
                    </tr>
                `;
            });
            
            // Erstelle monatliche √úbersicht
            let monthlyRows = '';
            gameState.monthlyData.forEach(data => {
                monthlyRows += `
                    <tr>
                        <td><strong>${data.month}</strong></td>
                        <td>${data.event}</td>
                        <td>${data.medicalCost > 0 ? 'CHF ' + data.medicalCost.toFixed(2) : '-'}</td>
                        <td>${data.patientPaid > 0 ? 'CHF ' + data.patientPaid.toFixed(2) : '-'}</td>
                        <td>CHF ${data.premium}.-</td>
                    </tr>
                `;
            });
            
            container.innerHTML = `
                <div style="font-size: 100px; text-align: center;">üéâ</div>
                <div class="yearly-overview">
                    <h3 style="text-align: center; color: #f39c12; font-size: 2em;">
                        üéä Gratulation! Du hast das Jahr 2024 abgeschlossen!
                    </h3>
                    
                    <div style="background: white; border: 3px solid #f39c12; padding: 25px; border-radius: 15px; margin: 20px 0;">
                        <h3 style="color: #f39c12; margin-bottom: 20px; font-size: 1.5em;">üìä Monatliche √úbersicht 2024</h3>
                        <table class="overview-table">
                            <thead>
                                <tr>
                                    <th>Monat</th>
                                    <th>Ereignis</th>
                                    <th>Arztkosten</th>
                                    <th>Gezahlt (Avan)</th>
                                    <th>Pr√§mie</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${monthlyRows}
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="summary-box" style="margin-top: 20px;">
                        <h4>üìä Jahresabschluss 2024 mit deiner Wahl</h4>
                        <div class="summary-item">
                            <span>Gew√§hlte Franchise:</span>
                            <span>CHF ${gameState.selectedFranchise}.-</span>
                        </div>
                        <div class="summary-item">
                            <span>Monatliche Pr√§mie:</span>
                            <span>CHF ${gameState.monthlyPremium}.-</span>
                        </div>
                        <div class="summary-item">
                            <span>Bezahlte Pr√§mien (12 Monate √ó CHF ${gameState.monthlyPremium}):</span>
                            <span>CHF ${gameState.totalPremiumsPaid}.-</span>
                        </div>
                        <div class="summary-item">
                            <span>Gesamte Arztkosten:</span>
                            <span>CHF ${gameState.totalMedicalCosts.toFixed(2)}</span>
                        </div>
                        <div class="summary-item">
                            <span>Davon hat Avan bezahlt (Franchise + Selbstbehalt):</span>
                            <span>CHF ${gameState.totalPatientPaid.toFixed(2)}</span>
                        </div>
                        <div class="summary-item">
                            <span>Davon hat die Krankenkasse bezahlt:</span>
                            <span>CHF ${gameState.totalInsurancePaid.toFixed(2)}</span>
                        </div>
                        <div class="summary-item">
                            <span><strong>TOTAL Avan bezahlt (Pr√§mien + Arztkosten):</strong></span>
                            <span><strong>CHF ${totalAvanPaid.toFixed(2)}</strong></span>
                        </div>
                    </div>
                    
                    <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4 style="color: #2e7d32; margin-bottom: 12px;">üí° Was hast du gelernt?</h4>
                        <p style="margin: 10px 0; color: #1b5e20;">
                            ‚úì Die <strong>Pr√§mie</strong> muss jeden Monat bezahlt werden<br>
                            ‚úì Die <strong>Franchise</strong> ist der Betrag, den man zuerst selbst bezahlt<br>
                            ‚úì Nach der Franchise zahlt man <strong>10% Selbstbehalt</strong> (max. CHF 700 pro Jahr)<br>
                            ‚úì Den Rest √ºbernimmt die <strong>Krankenkasse</strong><br>
                            ‚úì Die Wahl der Franchise beeinflusst sowohl die Pr√§mie als auch die Gesamtkosten!
                        </p>
                    </div>
                    
                    <div style="background: #fff3e0; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4 style="color: #f39c12; margin-bottom: 12px;">üîç Franchise-Vergleich f√ºr 2024</h4>
                        <p style="margin-bottom: 12px;">Wie h√§tten sich andere Franchisen auf Avans Gesamtkosten ausgewirkt?</p>
                        
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: #f39c12; color: white;">
                                    <th style="padding: 10px; text-align: left;">Franchise</th>
                                    <th style="padding: 10px; text-align: left;">Pr√§mie/Mt.</th>
                                    <th style="padding: 10px; text-align: left;">Pr√§mien Total</th>
                                    <th style="padding: 10px; text-align: left;">Arztkosten</th>
                                    <th style="padding: 10px; text-align: left;">Gesamtkosten</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${comparisonRows}
                            </tbody>
                        </table>
                        
                        <p style="margin-top: 12px; font-size: 0.9em; color: #666;">
                            <strong>üí° Interpretation:</strong> ${comparisons[0].franchise === gameState.selectedFranchise ? 
                                'Du hast die g√ºnstigste Option gew√§hlt! üéØ' : 
                                `Mit der Franchise CHF ${comparisons[0].franchise}.- h√§ttest du CHF ${(totalAvanPaid - comparisons[0].totalCost).toFixed(2)} gespart.`
                            }
                        </p>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn-primary" onclick="location.reload()">üîÑ Spiel neu starten</button>
                        <button class="btn-secondary" onclick="window.location.href='index.html'">üìö Zur√ºck zum Lernpfad</button>
                    </div>
                </div>
            `;
            
            document.getElementById('next-month-btn').style.display = 'none';
            updateOverview();
        }

        function updateOverview() {
            // Diese Funktion wird nicht mehr w√§hrend des Spiels ben√∂tigt
            // Die √úbersicht wird nur am Ende in showFinalSummary angezeigt
        }
    </script>
</body>
</html>
